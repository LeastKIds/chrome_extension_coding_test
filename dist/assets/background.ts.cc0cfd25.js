chrome.runtime.onMessage.addListener(function(t,r,o){if(t.type==="login"){console.log("Login message received");const s=t.data.TOKEN;return fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${s}`}}).then(e=>e.json()).then(e=>{const n=e.login;chrome.storage.sync.set({USER:n},function(){console.log("saved user name")}),o({status:!0,data:{USER:n}})}),!0}});
